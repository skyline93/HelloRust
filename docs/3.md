## ä¸‰ã€ä½¿ç”¨Cargo

`cargo`ç”¨æ¥æ„å»ºç®¡ç†å’Œç¼–è¯‘rusté¡¹ç›®çš„å·¥å…·ï¼Œåœ¨æ›´å¤§çš„rusté¡¹ç›®ä¸­ï¼Œ`cargo`å¯ä»¥æ˜¯æ·»åŠ å’Œç®¡ç†ä¾èµ–å˜çš„éå¸¸ç®€å•ã€‚  

åœ¨ç¬¬ä¸€èŠ‚ä½¿ç”¨`rustup`å®‰è£…å®Œå·¥å…·é“¾åï¼Œcargoå°±å·²ç»åŒ…å«è¿›æ¥äº†ï¼Œæ£€æŸ¥å®‰è£…cargoç‰ˆæœ¬
```bash
$ cargo --version
cargo 1.62.0 (a748cf5a3 2022-06-08)
```

### 3.1ã€ä½¿ç”¨cargoåˆ›å»ºä¸€ä¸ªé¡¹ç›®

ä¾‹å¦‚åˆ›å»ºä¸€ä¸ªåä¸º`hello_cargo`çš„é¡¹ç›®ï¼Œå¦‚ä¸‹å‘½ä»¤ï¼š
```bash
$ cargo new hello_cargo
     Created binary (application) `hello_cargo` package
```

å¦‚ä¸‹cargoå°†ç”Ÿæˆ[hello_cargoç›®å½•](../code/3/hello_cargo/)ï¼Œå¹¶åŒ…å«`toml`æ–‡ä»¶å’Œæºç æ–‡ä»¶
```bash
$ tree hello_cargo
hello_cargo
â”œâ”€â”€ Cargo.toml
â””â”€â”€ src
    â””â”€â”€ main.rs
```

#### 3.1.1ã€Cargo.tomlæ–‡ä»¶
[`Cargo.toml`](../code/3/hello_cargo/Cargo.toml)æ–‡ä»¶åˆå§‹åŒ–å†…å®¹å¦‚ä¸‹ï¼š
```toml
[package]
name = "hello_cargo"
version = "0.1.0"
edition = "2021"

# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html

[dependencies]

```


å…¶ä¸­ï¼Œ`[package]`æ ‡ç­¾ä¸‹çš„å†…å®¹ç”¨æ¥é…ç½®å½“å‰çš„ç¨‹åºåŒ…ä¿¡æ¯ï¼Œ`[dependencies]`æ ‡ç­¾ç”¨æ¥å£°æ˜é¡¹ç›®çš„ä¾èµ–ã€‚

ğŸ’Œ***Tip:*** åœ¨rustä¸­ï¼Œä»£ç çš„é›†åˆç§°ä½œåŒ…`crate`ï¼Œ`crate`æ˜¯rustä¸­æœ€å°çš„ç¼–è¯‘å•å…ƒï¼Œ`package`æ˜¯å•ä¸ªæˆ–å¤šä¸ª`crate`çš„é›†åˆã€‚crateå’Œpackageéƒ½å¯ä»¥å«åšåŒ…ï¼Œpackageå€¾å‘äºå¤šä¸ªcrateçš„ç»„åˆ

#### 3.1.2ã€srcç›®å½•
æ‰€æœ‰çš„æºä»£ç æ–‡ä»¶éƒ½ä¿å­˜åœ¨äº†`src`ç›®å½•ä¸‹ï¼Œè€Œå…¶ä»–å¦‚READMEæ–‡æ¡£ã€é…ç½®æ–‡ä»¶ç­‰æºä»£ç æ— å…³çš„æ–‡ä»¶å°†æ”¾ç½®åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ã€‚ä½¿ç”¨cargoç®¡ç†é¡¹ç›®ä½¿å¾—æ•´ä¸ªé¡¹ç›®æ–‡ä»¶å±‚æ¬¡æ›´åŠ ä¸€è‡´ï¼Œæ–¹ä¾¿ç®¡ç†ç»´æŠ¤ã€‚

### 3.2ã€æ„å»ºå’Œè¿è¡Œé¡¹ç›®

#### 3.2.1ã€ç¼–è¯‘é¡¹ç›®ä»£ç 
åœ¨é¡¹ç›®æ ¹è·¯å¾„ä¸‹ï¼Œæ‰§è¡Œ`cargo build`ç¼–è¯‘é¡¹ç›®ä»£ç 
```bash
$ cargo build
   Compiling hello_cargo v0.1.0 (/workspace/hellorust/code/3/hello_cargo)
    Finished dev [unoptimized + debuginfo] target(s) in 1.00s
```

ç¼–è¯‘åå°†ç”Ÿæˆ`target`ç›®å½•ï¼Œå¹¶å¾—åˆ°å¯æ‰§è¡Œçš„äºŒè¿›åˆ¶æ–‡ä»¶åœ¨`target/debug/hello_cargo`ï¼›é¦–æ¬¡ç¼–è¯‘è¿˜å°†åœ¨é¡¹ç›®æ ¹è·¯å¾„ä¸‹ç”Ÿæˆ`Cargo.lock`æ–‡ä»¶ï¼Œè®°å½•äº†å½“å‰é¡¹ç›®æ‰€æœ‰ä¾èµ–åº“çš„å…·ä½“ç‰ˆæœ¬å·ã€‚
```bash
$ tree .
.
â”œâ”€â”€ Cargo.lock
â”œâ”€â”€ Cargo.toml
â”œâ”€â”€ src
â”‚Â Â  â””â”€â”€ main.rs
â””â”€â”€ target
    â”œâ”€â”€ CACHEDIR.TAG
    â””â”€â”€ debug
        â”œâ”€â”€ build
        â”œâ”€â”€ deps
        â”‚Â Â  â”œâ”€â”€ hello_cargo-be7a131524fc0cd4
        â”‚Â Â  â””â”€â”€ hello_cargo-be7a131524fc0cd4.d
        â”œâ”€â”€ examples
        â”œâ”€â”€ hello_cargo
        â”œâ”€â”€ hello_cargo.d
        â””â”€â”€ incremental
            â””â”€â”€ hello_cargo-dz8kvwt8p3o6
                â”œâ”€â”€ s-gbi9sdzpyq-ll29eo-3v86w4vexbs3p
                â”‚Â Â  â”œâ”€â”€ 14yscrht839uup6e.o
                â”‚Â Â  â”œâ”€â”€ 3q6tjepta4m4v634.o
                â”‚Â Â  â”œâ”€â”€ 4k0d0dgafn1ijep5.o
                â”‚Â Â  â”œâ”€â”€ 4qoh67y9a9mehcok.o
                â”‚Â Â  â”œâ”€â”€ dep-graph.bin
                â”‚Â Â  â”œâ”€â”€ k2i8rahgk8h0l97.o
                â”‚Â Â  â”œâ”€â”€ paus5f5lz2o9vv1.o
                â”‚Â Â  â”œâ”€â”€ query-cache.bin
                â”‚Â Â  â”œâ”€â”€ sezzbz89mszmu14.o
                â”‚Â Â  â”œâ”€â”€ v7eulzwbrlgtsti.o
                â”‚Â Â  â””â”€â”€ work-products.bin
                â””â”€â”€ s-gbi9sdzpyq-ll29eo.lock
```

#### 3.2.2ã€è¿è¡Œç¨‹åº
ä¹Ÿå¯ä»¥ä½¿ç”¨`cargo run`å‘½ä»¤è¿è¡Œç¨‹åºï¼›å½“cargoæ£€æŸ¥åˆ°å½“å‰ä»£ç æœ‰æ”¹åŠ¨ï¼Œ`cargo run`å°†é‡æ–°ç¼–è¯‘ä»£ç å†è¿è¡Œ
```bash
$ cargo run
   Compiling hello_cargo v0.1.0 (/workspace/hellorust/code/3/hello_cargo)
    Finished dev [unoptimized + debuginfo] target(s) in 1.05s
     Running `target/debug/hello_cargo`
Hello, world!
```

#### 3.2.3ã€ç¼–è¯‘æ£€æŸ¥
ä½¿ç”¨`cargo check`å‘½ä»¤å¯ä»¥æ£€æŸ¥å½“å‰ä»£ç æ˜¯å¦å¯ä»¥é€šè¿‡ç¼–è¯‘ï¼›  
ğŸ’Œ***Tip:*** è¿™éå¸¸æœ‰ç”¨ï¼Œå®ƒå¯ä»¥è·³è¿‡ç”ŸæˆäºŒè¿›åˆ¶æ–‡ä»¶çš„è¿‡ç¨‹ï¼Œè¿è¡Œé€Ÿåº¦æ›´å¿«ï¼Œå½“åœ¨çœŸæ­£ç¼–è¯‘äºŒè¿›åˆ¶æ–‡ä»¶å‰ï¼Œæ‰§è¡Œè¿™ä¸ªå‘½ä»¤é¢„å…ˆæ£€æŸ¥å½“å‰ä»£ç æ˜¯å¦æ­£ç¡®ç¼–è¯‘å¯ä»¥å‡å°‘ä¸å¿…è¦çš„åå¤ç¼–è¯‘æ–‡ä»¶çš„æ—¶é—´


#### 3.2.4ã€Releaseæ¨¡å¼è¿›è¡Œç¼–è¯‘

ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤å‚æ•°ç¼–è¯‘ç”Ÿæˆæœ€ç»ˆå‘å¸ƒçš„ç¨‹åºã€‚è¿™æ ·ç¼–è¯‘å‡ºæ¥çš„äºŒè¿›åˆ¶æ–‡ä»¶æœ‰æ›´å¥½çš„è¿è¡Œæ—¶æ€§èƒ½ï¼Œä½†ä¹Ÿéœ€è¦æ›´é•¿çš„ç¼–è¯‘æ—¶é—´
```bash
$ cargo build --release
   Compiling hello_cargo v0.1.0 (/workspace/hellorust/code/3/hello_cargo)
    Finished release [optimized] target(s) in 0.39s
```

å°†åœ¨`target`ç›®å½•ä¸‹æ–°ç”Ÿæˆä¸€ä¸ª`release`ç›®å½•ï¼Œå¹¶å¾—åˆ°æœ€ç»ˆå‘å¸ƒçš„äºŒè¿›åˆ¶æ–‡ä»¶`target/release/hello_cargo`  
```bash
$ tree .
.
â”œâ”€â”€ Cargo.lock
â”œâ”€â”€ Cargo.toml
â”œâ”€â”€ src
â”‚Â Â  â””â”€â”€ main.rs
â””â”€â”€ target
    â”œâ”€â”€ CACHEDIR.TAG
    â”œâ”€â”€ debug
    â”‚Â Â  â”œâ”€â”€ ...
    â””â”€â”€ release
        â”œâ”€â”€ build
        â”œâ”€â”€ deps
        â”‚Â Â  â”œâ”€â”€ hello_cargo-05c603c3c4dd03c5
        â”‚Â Â  â””â”€â”€ hello_cargo-05c603c3c4dd03c5.d
        â”œâ”€â”€ examples
        â”œâ”€â”€ hello_cargo
        â”œâ”€â”€ hello_cargo.d
        â””â”€â”€ incremental
```


------
â˜ï¸ä¸Šä¸€èŠ‚ï¼š[äºŒã€ç¬¬ä¸€ä¸ªRustç¨‹åº](2.md)  
ğŸ‘‡ä¸‹ä¸€èŠ‚ï¼š[å››ã€åŸºæœ¬æ¦‚å¿µ](4.md)


ğŸ¤[é¦–é¡µ](../README.md)
